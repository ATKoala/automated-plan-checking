#The pydicom library needs to be installed first
import pydicom as dicom

#define the filepath
filepath=""

dataset=dicom.read_file(filepath, force=True)
## beam number
print("The number of beams is: " + str(len(dataset.BeamSequence))+"\n")
i=0
while i<len(dataset.BeamSequence):
    print("beam #: "+ str(dataset.BeamSequence[i].BeamNumber))
    # can't figure out how to find wedge angle
    # the tag is (300a,00D5) for wedge angle
    print("The target perscription dose is: "+ str(dataset.DoseReferenceSequence[0].TargetPrescriptionDose))
    print("The number of Wedges is: "+ str(dataset.BeamSequence[i].NumberOfWedges))
    ## GantryAngle 
    print("The Gantry Angle is: " + str(dataset.BeamSequence[i].ControlPointSequence[0].GantryAngle))
    # SSD in millimetres
    print("Surface to Surface Distance in centimetres: " + str(dataset.BeamSequence[i].ControlPointSequence[0].SourceToSurfaceDistance/10))
    # number of fractions
    print("The number of fractions planned is: " + str(dataset.FractionGroupSequence[0].NumberOfFractionsPlanned))
    #is Beam Dose the same as Total Dose?
    #print("The beam dose is: " + str(dataset.FractionGroupSequence[0].ReferencedBeamSequence[0].BeamDose))
    print("\n")
    i+=1
